<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\VehicleRoute; use App\Models\Vehicle; use App\Models\Route; class VehicleRouteController extends Controller { public function index() { $vehicle_routes = VehicleRoute::all(); $list = true;return view('vehicle_routes.index', compact('vehicle_routes', 'list')); } public function create() { $vehicle_ids = Vehicle::all(); $route_ids = Route::all(); return view('vehicle_routes.create',compact('vehicle_ids','route_ids')); } public function store(Request $request) { $this->validate($request, [ 'vehicle_id' => 'required', 'route_id' => 'required', ]); $vehicleroute = new VehicleRoute(); $vehicleroute->fill($request->all()); $vehicleroute->save(); return redirect()->route('vehicle_routes.index'); } public function show(VehicleRoute $vehicleroute) { return view('vehicle_routes.show', compact('vehicleroute',)); } public function edit(VehicleRoute $vehicleroute) { $vehicle_ids = Vehicle::all(); $route_ids = Route::all(); return view('vehicle_routes.edit', compact('vehicleroute','vehicle_ids','route_ids')); } public function update(Request $request, VehicleRoute  $vehicleroute) { $this->validate($request, [ 'vehicle_id' => 'required', 'route_id' => 'required', ]); $vehicleroute->vehicle_id = $request->vehicle_id; $vehicleroute->route_id = $request->route_id; $vehicleroute->save(); session()->flash('message', 'Record updated successfully.'); return redirect()->route('vehicle_routes.edit' , $vehicleroute->id); } public function destroy(VehicleRoute $vehicleroute) { $vehicleroute->delete(); session()->flash('success', 'Deleted Successfully'); return redirect()->route('vehicle_routes.index'); } } ?>