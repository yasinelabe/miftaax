<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\HostelRoom; use App\Models\Hostel; use App\Models\HostelRoomType; class HostelRoomController extends Controller { public function index() { $hostel_rooms = HostelRoom::all(); $list = true;return view('hostel_rooms.index', compact('hostel_rooms', 'list')); } public function create() { $hostel_ids = Hostel::all(); $hostel_room_type_ids = HostelRoomType::all(); return view('hostel_rooms.create',compact('hostel_ids','hostel_room_type_ids')); } public function store(Request $request) { $this->validate($request, [ 'name' => 'required', 'room_number' => 'required', 'number_of_students' => 'required', 'status' => 'required', 'hostel_id' => 'required', 'hostel_room_type_id' => 'required', ]); $hostelroom = new HostelRoom(); $hostelroom->fill($request->all()); $hostelroom->save(); return redirect()->route('hostel_rooms.index'); } public function show(HostelRoom $hostelroom) { return view('hostel_rooms.show', compact('hostelroom',)); } public function edit(HostelRoom $hostelroom) { $hostel_ids = Hostel::all(); $hostel_room_type_ids = HostelRoomType::all(); return view('hostel_rooms.edit', compact('hostelroom','hostel_ids','hostel_room_type_ids')); } public function update(Request $request, HostelRoom  $hostelroom) { $this->validate($request, [ 'name' => 'required', 'room_number' => 'required', 'number_of_students' => 'required', 'status' => 'required', 'hostel_id' => 'required', 'hostel_room_type_id' => 'required', ]); $hostelroom->name = $request->name; $hostelroom->room_number = $request->room_number; $hostelroom->number_of_students = $request->number_of_students; $hostelroom->status = $request->status; $hostelroom->hostel_id = $request->hostel_id; $hostelroom->hostel_room_type_id = $request->hostel_room_type_id; $hostelroom->save(); session()->flash('message', 'Record updated successfully.'); return redirect()->route('hostel_rooms.edit' , $hostelroom->id); } public function destroy(HostelRoom $hostelroom) { $hostelroom->delete(); session()->flash('success', 'Deleted Successfully'); return redirect()->route('hostel_rooms.index'); } } ?>