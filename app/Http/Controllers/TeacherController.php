<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\Teacher; use App\Models\BloodGroup; class TeacherController extends Controller { public function index() { $teachers = Teacher::all(); $list = true;return view('teachers.index', compact('teachers', 'list')); } public function create() { $blood_group_ids = BloodGroup::all(); return view('teachers.create',compact('blood_group_ids')); } public function store(Request $request) { $this->validate($request, [ 'fullname' => 'required', 'salary' => 'required', 'gender' => 'required', 'tell' => 'required', 'blood_group_id' => 'required', ]); $teacher = new Teacher(); $teacher->fill($request->all()); $teacher->save(); return redirect()->route('teachers.index'); } public function show(Teacher $teacher) { return view('teachers.show', compact(' teacher',)); } public function edit(Teacher $teacher) { $blood_group_ids = BloodGroup::all(); return view('teachers.edit', compact('teacher','blood_group_ids')); } public function update(Request $request, Teacher  $teacher) { $this->validate($request, [ 'fullname' => 'required', 'salary' => 'required', 'gender' => 'required', 'tell' => 'required', 'blood_group_id' => 'required', ]); $teacher->fullname = $request->fullname; $teacher->salary = $request->salary; $teacher->gender = $request->gender; $teacher->tell = $request->tell; $teacher->blood_group_id = $request->blood_group_id; $teacher->save(); session()->flash('success', 'Record updated successfully.'); return redirect()->route('teachers.edit' , $teacher->id); } public function destroy(Teacher $teacher) { $teacher->delete(); return redirect()->route('teachers.index'); session()->flash('success', 'Deleted Successfully'); } } ?>