<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\ClassRoomSubject; use App\Models\ClassRoom; use App\Models\SubjectGroup; class ClassRoomSubjectController extends Controller { public function index() { $class_room_subjects = ClassRoomSubject::all(); $list = true;return view('class_room_subjects.index', compact('class_room_subjects', 'list')); } public function create() { $class_room_ids = ClassRoom::all(); $subject_group_ids = SubjectGroup::all(); return view('class_room_subjects.create',compact('class_room_ids','subject_group_ids')); } public function store(Request $request) { $this->validate($request, [ 'class_room_id' => 'required', 'subject_group_id' => 'required', ]); $classroomsubject = new ClassRoomSubject(); $classroomsubject->fill($request->all()); $classroomsubject->save(); return redirect()->route('class_room_subjects.index'); } public function show(ClassRoomSubject $classroomsubject) { return view('class_room_subjects.show', compact(' classroomsubject',)); } public function edit(ClassRoomSubject $classroomsubject) { $class_room_ids = ClassRoom::all(); $subject_group_ids = SubjectGroup::all(); return view('class_room_subjects.edit', compact('classroomsubject','class_room_ids','subject_group_ids')); } public function update(Request $request, ClassRoomSubject  $classroomsubject) { $this->validate($request, [ 'class_room_id' => 'required', 'subject_group_id' => 'required', ]); $classroomsubject->class_room_id = $request->class_room_id; $classroomsubject->subject_group_id = $request->subject_group_id; $classroomsubject->save(); session()->flash('success', 'Record updated successfully.'); return redirect()->route('class_room_subjects.edit' , $classroomsubject->id); } public function destroy(ClassRoomSubject $classroomsubject) { $classroomsubject->delete(); return redirect()->route('class_room_subjects.index'); session()->flash('success', 'Deleted Successfully'); } } ?>