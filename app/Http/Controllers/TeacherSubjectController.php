<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\TeacherSubject; use App\Models\Teacher; use App\Models\Subject; class TeacherSubjectController extends Controller { public function index() { $teacher_subjects = TeacherSubject::all(); $list = true;return view('teacher_subjects.index', compact('teacher_subjects', 'list')); } public function create() { $teacher_ids = Teacher::all(); $subject_ids = Subject::all(); return view('teacher_subjects.create',compact('teacher_ids','subject_ids')); } public function store(Request $request) { $this->validate($request, [ 'teacher_id' => 'required', 'subject_id' => 'required', ]); $teachersubject = new TeacherSubject(); $teachersubject->fill($request->all()); $teachersubject->save(); return redirect()->route('teacher_subjects.index'); } public function show(TeacherSubject $teachersubject) { return view('teacher_subjects.show', compact(' teachersubject',)); } public function edit(TeacherSubject $teachersubject) { $teacher_ids = Teacher::all(); $subject_ids = Subject::all(); return view('teacher_subjects.edit', compact('teachersubject','teacher_ids','subject_ids')); } public function update(Request $request, TeacherSubject  $teachersubject) { $this->validate($request, [ 'teacher_id' => 'required', 'subject_id' => 'required', ]); $teachersubject->teacher_id = $request->teacher_id; $teachersubject->subject_id = $request->subject_id; $teachersubject->save(); session()->flash('success', 'Record updated successfully.'); return redirect()->route('teacher_subjects.edit' , $teachersubject->id); } public function destroy(TeacherSubject $teachersubject) { $teachersubject->delete(); return redirect()->route('teacher_subjects.index'); session()->flash('success', 'Deleted Successfully'); } } ?>