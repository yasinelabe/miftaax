<?php namespace App\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\Grading; use App\Models\ExamType; class GradingController extends Controller { public function index() { $gradings = Grading::all(); $list = true;return view('gradings.index', compact('gradings', 'list')); } public function create() { $exam_type_ids = ExamType::all(); return view('gradings.create',compact('exam_type_ids')); } public function store(Request $request) { $this->validate($request, [ 'exam_type_id' => 'required', 'from_marks' => 'required', 'to_marks' => 'required', 'grade' => 'required', ]); $grading = new Grading(); $grading->fill($request->all()); $grading->save(); return redirect()->route('gradings.index'); } public function show(Grading $grading) { return view('gradings.show', compact('grading',)); } public function edit(Grading $grading) { $exam_type_ids = ExamType::all(); return view('gradings.edit', compact('grading','exam_type_ids')); } public function update(Request $request, Grading  $grading) { $this->validate($request, [ 'exam_type_id' => 'required', 'from_marks' => 'required', 'to_marks' => 'required', 'grade' => 'required', ]); $grading->exam_type_id = $request->exam_type_id; $grading->from_marks = $request->from_marks; $grading->to_marks = $request->to_marks; $grading->grade = $request->grade; $grading->save(); session()->flash('message', 'Record updated successfully.'); return redirect()->route('gradings.edit' , $grading->id); } public function destroy(Grading $grading) { $grading->delete(); session()->flash('success', 'Deleted Successfully'); return redirect()->route('gradings.index'); } } ?>